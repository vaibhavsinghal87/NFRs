## Security  - 

Hacker types - 
- White hat
- Black hat

Process of assessing potential security threats is called developing a threat model

### Security Principles - 
- Least privilege - APIs, System resources, Database access, Software version control, public websites, Code access
- Simple is more secure
- Never trust users - insider threats
- Expect the unexpected
- Defense in depth - Layers of defence
- Resilience - 3 components - 
    - identify
    - respond
    - recover
- Security through Obscurity
- Deny list and allow list
- Map exposure points and data passageways
    - Data Security goals - Confidentiality, Integrity, Availability (CIA)

### Filtering Inputs, Control Output - 
- Defense in depth 
    - Regulating requests
        - Validate request methods - GET/POST methods
        - Request/Response format - Content Type, Accept
    - Validating Input - Acceptable/Unacceptable data. Only good data is allowed in a web application
        - Validate presence and length of data
        - Validate type of data - number/string
        - Validate format of data - email address format
        - Validate data uniqueness - username
    - Sanitising Data
        - Type casting data
        - Encoding characters in HTML - < &lt
        - Escaping characters
- Label Variables
- Keep code private - publicroot in web server 
- Keep credentials private
- Keep error message vague - username not found should be login failed, give little information as necessary, return standard generic error messages, something went wrong
- Smart logging - Log 3 things below
    - Error
    - Sensitive actions
    - Suspicious Activity

### Types of Attacks - 
- Types of credentials attack - Data breaches, brute force attack, Botnets and distributed computing allows million of attempt in seconds
- Strong passwords
- URL manipulation and Insecure Direct Object Reference(IDOR) - someone edits url in website to probe, editing a url may reveal a private webpage
- SQL injection - 
    - when untrusted data is used to construct a SQL query. 
    - Allows an attacker to execute arbitrary request to SQL DB
    - Login form
    - Blind SQL injection
    - Limit DB permissions, use principle of least priviledge
    - Sql sanitisation
- XSS - 
    - Becomes possible when webpages use user supplied data in the HTML response without sanitising
    - 3 types of XSS -
        - Reflected
            - Data from URLs or forms
            - Runs immediately the n data is perceived
        - Stored
            - Data from database, files, cookies, sessions
            - Runs later when data is retrieved
        - DOM-based 
            - Data generated by JS
            - Runs the user triggers JS events
    - CSP
    - HTTP only cookies
- CSRF - 
- Cookie visibility and theft